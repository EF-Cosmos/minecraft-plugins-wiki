# Litematica 模组完整指南

## 📌 模组概述

Litematica（投影）是由 masa 开发的一款功能强大的建筑辅助模组，主要用于将建筑结构保存为原理图文件，并在游戏中显示全息投影，帮助玩家精确复制复杂建筑。这是目前 Minecraft 建筑领域最受欢迎的辅助工具之一，特别适合大型建筑项目、红石机器和精确建筑需求。

**官方发布平台**：[CurseForge](https://www.curseforge.com/minecraft/mc-mods/litematica)、[Modrinth](https://modrinth.com/mod/litematica)、[GitHub](https://github.com/Defenastrator/litematica)

**最新版本**：支持 Minecraft 1.14.4 - 1.21.x（截至2025年1月）

**前置要求**：
- Fabric Loader
- Fabric API
- MaLiLib（必须安装，否则模组无法启动）

## 🎯 核心功能详解

### 1. 原理图保存系统

Litematica 允许玩家将任何方块结构保存为 `.litematica` 格式的原理图文件。这种格式相比传统的 Schematic 格式具有以下优势：

- **压缩率高**：文件体积更小
- **完整性好**：保存方块状态、TileEntity数据
- **跨版本兼容**：部分版本间可以转换

**保存步骤**：
1. 使用木棍（默认快捷键）右键选择区域起点
2. 再次右键选择区域对角点
3. 按 `P` 键打开原理图管理界面
4. 选择"保存原理图"并命名

**原理图文件位置**：
```
.minecraft/litematica/schematics/
```

### 2. 全息投影显示

保存的原理图可以投射为半透明的 3D 全息图像，精确显示每个方块的位置和类型。这是 Litematica 最重要的功能，使得：

- **远程建筑成为可能**：不需要在目标位置建造临时结构
- **错误即时可见**：放错方块会立即显示为红色轮廓
- **多角度查看**：支持从任意角度检查建筑进度

**投影控制**：
- `Shift + 右键`：显示/隐藏投影
- `Ctrl + 右键`：旋转投影
- `Alt + 右键`：平移投影位置

### 3. 材料清单系统

Litematica 内置的材料清单功能可以自动计算建造原理图所需的全部材料：

- **实时统计**：显示每种方块的数量
- **智能分类**：按方块类型分组显示
- **缺失标记**：高亮显示尚未收集的材料
- **排除设置**：可排除不需要的方块类型

**使用场景**：
大型城堡项目通常需要数万甚至数十万个方块，手动统计几乎不可能。材料清单系统可以：
1. 快速评估项目成本
2. 规划材料收集路线
3. 避免建造过程中材料不足

### 4. 投影验证器

投影验证器功能可以扫描整个原理图区域，检测以下问题：

- **错误方块**：放置位置不正确的方块
- **缺失方块**：尚未放置的方块
- **多余方块**：投影中不存在的方块

这个功能在技术建筑（如红石机器）中特别有用，因为微小的错误可能导致整个机器失效。

### 5. 快速粘贴模式

在拥有指令权限时，可以使用快速粘贴功能瞬间完成建筑：

- **单人游戏**：自动使用 `/setblock` 指令
- **多人游戏**：需要 OP 权限或特定指令权限
- **可配置指令**：在设置中自定义使用的指令

## 🛠️ 详细安装指南

### 第一步：安装 Fabric Loader

如果尚未安装 Fabric Loader，需要先完成安装：

1. 下载 Fabric Installer：https://fabricmc.net/use/installer/
2. 运行安装程序
3. 选择"客户端"或"服务端"
4. 选择 Minecraft 版本
5. 选择游戏目录
6. 点击"安装"

### 第二步：安装必要前置模组

**必需**：
- [Fabric API](https://www.curseforge.com/minecraft/mc-mods/fabric-api)
- [MaLiLib](https://www.curseforge.com/minecraft/mc-mods/malilib)

**推荐同时安装**：
- [MiniHUD](https://www.curseforge.com/minecraft/mc-mods/minihud)：显示更多信息叠加层
- [Tweakeroo](https://www.curseforge.com/minecraft/mc-mods/tweakeroo)：增强建筑辅助功能

### 第三步：安装 Litematica

1. 访问 [CurseForge 页面](https://www.curseforge.com/minecraft/mc-mods/litematica)
2. 选择对应的 Minecraft 版本
3. 下载最新版本的 `.jar` 文件
4. 将文件放入 `.minecraft/mods/` 目录
5. 启动游戏验证模组是否正常工作

### 第四步：初始配置

首次启动后，建议进行以下配置：

1. **打开设置**：按 `Esc` → 选项... → Litematica 设置
2. **语言设置**：切换为中文界面
3. **快捷键设置**：根据习惯调整快捷键
4. **显示设置**：调整投影透明度、颜色方案

## 📖 详细使用教程

### 基础操作流程

#### 创建原理图

**方法一：区域选择**

1. 准备一根木棍作为选择工具
2. 右键点击要保存区域的第一个角落
3. 右键点击对角角落
4. 按 `P` 打开原理图菜单
5. 选择"创建新原理图"

**方法二：全选当前区块**

1. 站在想要保存的区域中心
2. 按 `K` 键（默认快捷键）
3. 选择保存位置和名称

#### 放置投影

1. 加载保存的原理图
2. 按 `H` 键（默认快捷键）切换投影显示
3. 使用快捷键调整投影位置：
   - `Ctrl + 滚轮`：上下移动
   - `Shift + 滚轮`：前后移动
   - `Alt + 滚轮`：左右移动

#### 建造辅助模式

**EasyPlace 模式**：
1. 启用 EasyPlace 功能
2. 看着投影中的方块位置
3. 游戏会自动切换到正确的方块类型
4. 放置后自动高亮下一个需要放置的方块

**高亮方案设置**：
- 绿色：需要放置的方块
- 红色：放错的方块
- 黄色：已完成的方块

### 高级技巧

#### 1. 原理图管理最佳实践

**文件组织**：
```
litematica/
├── schematics/
│   ├── buildings/        # 建筑类
│   ├── redstone/         # 红石类
│   ├── terrain/          # 地形类
│   └── temp/             # 临时文件
└── configs/
    └── render_layers.json
```

**版本控制**：
- 定期备份重要原理图
- 使用有意义的文件名（包含版本号、日期等）
- 删除不再需要的临时原理图

#### 2. 大型项目管理

对于城堡、城市等大型项目：

1. **分块保存**：将大建筑分成多个小原理图
2. **建立索引**：创建主原理图标记各部分位置
3. **渐进式建造**：先完成主体结构，再添加细节
4. **使用标签**：为原理图添加描述标签便于搜索

#### 3. 与其他模组配合使用

**WorldEdit 配合**
```
1. 使用 Litematica 选择并保存区域
2. 在 WorldEdit 中使用 //load 加载原理图
3. 使用 //paste 粘贴到目标位置
4. 两者功能互补，提高效率
```

**Carpet Mod 配合**
```
1. 使用 Carpet 的 fill 命令快速填充区域
2. 使用 Litematica 确保位置精确
3. 建造效率大幅提升
```

### 快捷键完整列表

| 快捷键 | 功能 |
|--------|------|
| `K` | 打开原理图管理界面 |
| `H` | 显示/隐藏投影 |
| `Shift + 右键` | 快速切换投影显示 |
| `Ctrl + 右键` | 旋转投影 |
| `Alt + 右键` | 平移投影 |
| `P` | 保存当前选择 |
| `U` | 打开材料清单界面 |
| `V` | 投影验证 |
| `M` | 切换 EasyPlace 模式 |

## ⚠️ 常见问题与解决方案

### 问题1：投影显示为黑紫色方块

**原因**：加载了包含模组方块的原理图，但当前游戏未安装对应模组

**解决方案**：
- 安装原理图创建时使用的所有模组
- 在设置中启用"忽略未知方块"
- 使用验证功能检查缺失的方块

### 问题2：MaLiLib 报错或无法启动

**原因**：MaLiLib 版本不匹配或未安装

**解决方案**：
1. 确认 MaLiLib 与 Litematica 版本匹配
2. 确认两者都是 Fabric 版本
3. 检查 Fabric API 是否为最新版本

### 问题3：投影不显示或显示异常

**原因**：投影可能被隐藏或配置问题

**解决方案**：
1. 按 `H` 键切换显示
2. 检查投影是否在可视范围内
3. 调整渲染距离设置
4. 重启游戏

### 问题4：快速粘贴无法使用

**原因**：缺少指令权限

**解决方案**：
- 单人游戏：确保允许使用作弊
- 多人游戏：联系管理员获取 `setblock` 权限
- 或使用手动建造模式

### 问题5：材料清单不准确

**原因**：方块状态未正确保存

**解决方案**：
- 重新保存原理图
- 检查是否有特殊方块状态（如活塞朝向）
- 更新到最新版本的 Litematica

## 🔧 配置选项详解

### 核心设置

| 设置项 | 默认值 | 说明 |
|--------|--------|------|
| 投影透明度 | 0.5 | 投影的透明度（0.0-1.0） |
| 侧影宽度 | 2 | 轮廓线条粗细 |
| 渲染距离 | 游戏设置 | 投影可见距离 |
| 自动保存 | 开启 | 自动保存原理图修改 |

### 显示层设置

Litematica 支持多种渲染层：

- **方块层**：显示方块实体
- **实体层**：显示生物、物品等
- **TileEntity层**：显示箱子、熔炉等
- **区块边界层**：显示区块网格

### 颜色方案

支持自定义颜色主题：

```json
{
  "valid_block": [0, 255, 0, 128],
  "invalid_block": [255, 0, 0, 128],
  "missing_block": [255, 255, 0, 128],
  "extra_block": [255, 0, 255, 128]
}
```

## 📊 与其他工具对比

### Litematica vs Schematica

| 特性 | Litematica | Schematica |
|------|-----------|------------|
| 开源状态 | 开源 | 已停止开发 |
| 活跃更新 | 活跃 | 已停止 |
| 原理图格式 | Litematica | Schematic |
| 材料清单 | 内置 | 需要插件 |
| 验证功能 | 内置 | 无 |
| 跨版本 | 良好 | 一般 |
| 社区支持 | 活跃 | 无 |

### 推荐使用场景

**选择 Litematica**：
- 新建建筑项目
- 需要材料清单功能
- 使用最新版本 Minecraft
- 需要社区支持

**选择 Schematica**：
- 维护旧版本存档
- 需要兼容旧工具链
- 仅需要基础原理图功能

## 🏗️ 实际应用案例

### 案例1：大型城堡建造

**项目背景**：
- 城堡主体：200×200×80 方块
- 预计工期：2周
- 团队成员：5人

**使用方案**：
1. 总体规划：创建城堡整体原理图
2. 分区规划：将城堡分为10个区域
3. 分布实施：每人负责一个区域
4. 实时同步：使用材料清单协调材料收集

**效果**：
- 建造时间缩短 60%
- 材料浪费减少 80%
- 建筑精度显著提高

### 案例2：红石机器复制

**项目背景**：
- 大型刷怪塔：包含 1000+ 红石元件
- 需要精确复制到多个地点

**使用方案**：
1. 保存刷怪塔完整原理图
2. 在目标位置投射全息投影
3. 使用 EasyPlace 逐层建造
4. 使用验证功能检查错误

**效果**：
- 复制精度达到 100%
- 调试时间减少 90%
- 避免常见建造错误

## 🔗 相关资源链接

- **官方文档**：https://github.com/Defenastrator/litematica/wiki
- **模组Wiki**：https://minecraft.fandom.com/wiki/Litematica
- **中文社区**：https://www.mcmod.cn/mod/2327.html
- **常见问题**：https://github.com/Defenastrator/litematica/wiki/FAQ

## 📝 版本历史

| 版本 | Minecraft版本 | 主要更新 |
|------|---------------|----------|
| 0.11.x | 1.21.x | 适配最新版本，优化性能 |
| 0.10.x | 1.20.x | 新增材料清单增强功能 |
| 0.9.x | 1.19.x | 修复多个Bug，提升稳定性 |
| 0.8.x | 1.18.x | 基础功能完善 |

## 🤝 贡献与反馈

如发现问题或有功能建议，请通过以下渠道反馈：

1. **GitHub Issues**：https://github.com/Defenastrator/litematica/issues
2. **CurseForge 评论**：模组页面留言
3. **中文社区**：MC百科或 MCBBS 讨论区

---

**最后更新**：2025年1月22日
**模组版本**：0.11.7 (for Minecraft 1.21.x)